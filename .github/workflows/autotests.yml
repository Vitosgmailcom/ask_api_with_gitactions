name: API_test

on: workflow_dispatch
## ${{ secrets.SuperSecret }}
env:
  db_user: ${{ secrets.DB_USER }}
  db_pass: ${{ secrets.DB_PASS }}
  db_name: ${{ secrets.DB_NAME }}
  db_port: ${{ secrets.DB_PORT }}
  db_host: ${{ secrets.DB_HOST }}

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Run Docker-Compose
        run: |
          docker-compose up --exit-code-from regression || true
